<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <link rel="stylesheet" href="login.css">
</head>

<body>
    <img class="gorro" src="img/Gorro/hat.png" alt="">
    <div class="contenedor-login">
        <a href="index.html"><img src="img/logo-login.png" alt="" /></a>
        <h2 class="titulo-login">Registrarse</h2>

        <form id="formRegistro">
            <input type="text" name="usuario" placeholder="Usuario" required class="entrada-texto">
            <input type="password" name="contraseña" placeholder="Contraseña" required class="entrada-password">
            <button class="boton-ingresar" type="submit">Crear cuenta</button>
        </form>
        <p id="mensaje"></p>
        <br>
        <p>¿Ya tienes cuenta? <a href="login.html">Inicia sesión</a></p>
    </div>


    <script>
        document.getElementById("formRegistro").addEventListener("submit", async e => {
            e.preventDefault();
            const datos = new FormData(e.target);

            const r = await fetch("registro.php", { method: "POST", body: datos });
            const t = await r.text();

            const msg = document.getElementById("mensaje");
            if (t.trim() === "ok") {
                msg.textContent = "Usuario creado con éxito";
                e.target.reset();
            } else {
                msg.textContent = t;
            }
        });
    </script>

    <!-- Te dejo aqui el codigo de donde saque los copos https://codepen.io/sdavidprince/pen/ZYzydXy -->
    <script>
        function createSnowflakes() {
            const numFlakes = 50;
            const colors = ['#ffffff', '#d4f1f9', '#e8f8ff'];

            for (let i = 0; i < numFlakes; i++) {
                const flake = document.createElement('div');
                flake.classList.add('snowflake');
                flake.textContent = '❄';
                document.body.appendChild(flake);

                const size = Math.random() * 10 + 10 + 'px';
                flake.style.left = Math.random() * 100 + 'vw';
                flake.style.fontSize = size;
                flake.style.color = colors[Math.floor(Math.random() * colors.length)];
                flake.style.animationDuration = Math.random() * 5 + 5 + 's';
                flake.style.animationDelay = Math.random() * 5 + 's';
            }
        }


        window.addEventListener('DOMContentLoaded', createSnowflakes);
    </script>
</body>

</html>